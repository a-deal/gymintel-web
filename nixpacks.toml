[phases.setup]
nixPkgs = ["python311", "postgresql", "gcc"]

[phases.install]
cmds = [
    "ls -la",
    "ls -la backend/",
    "which python || echo 'python not found'",
    "which python3 || echo 'python3 not found'",
    "which python3.11 || echo 'python3.11 not found'",
    "python3.11 -m pip install --upgrade pip",
    "python3.11 -m pip install -r backend/requirements.txt"
]

[start]
cmd = "python3.11 backend/start.py"

[variables]
PYTHONUNBUFFERED = "1"
